
branches:
  - "+([0-9])?(.{+([0-9]),x}).x"

  - name: "master"
    range: "3.x"
    channel: "3.x"
  - name: "develop"
    range: "3.x"
    channel: "3.x"

  - name: "master-bootstrap-4"
    channel: "bootstrap-4"
    prerelease: "btst4"
  - name: "develop-bootstrap-4"
    channel: "bootstrap-4"

  - name: "master-bootstrap-5"
    channel: "bootstrap-5"
    prerelease: "btst5"
  - name: "develop-bootstrap-5"
    prerelease: "btst5"

  - name: "release-*"
    prerelease: "alpha"

plugins:
  - path: "@semantic-release/commit-analyzer"
  - path: "@semantic-release/release-notes-generator"
    commit: "/commit"
  - path: "@semantic-release/github"
  - path: "@semantic-release/changelog"
    changelogFile: "CHANGELOG.md"
    changelogTitle: "# WP Basic Bootstrap changelog"
  - path: "@semantic-release/git"
    assets:
      - "CHANGELOG.md"
      - "style.css"
    message: |
      chore(release): ${nextRelease.version}

      ${nextRelease.notes}
  - path: "@semantic-release/exec"
    verifyReleaseCmd: "sed -i \"s/Version: .*/Version: ${nextRelease.version}/\" style.css"
  - path: "@saithodev/semantic-release-backmerge"
    backmergeBranches:
      - from: "master"
        to: "develop"
      - from: "master-bootstrap-4"
        to: "develop-bootstrap-4"
      - from: "master-bootstrap-5"
        to: "develop-bootstrap-5"
